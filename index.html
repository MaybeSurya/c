<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MaybeSurya | C & C++ Projects</title>
<meta name="description" content="Professional C & C++ project showcase powered by GitHub API.">

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<!-- Prism Themes (auto switch) -->
<link id="prism-theme" rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"/>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

<style>
:root{
--bg:#0f172a;
--bg2:#111827;
--text:#f1f5f9;
--card:rgba(255,255,255,0.05);
--accent:#38bdf8;
--border:rgba(255,255,255,0.1);
}
body.light{
--bg:#f8fafc;
--bg2:#e2e8f0;
--text:#0f172a;
--card:rgba(255,255,255,0.7);
--accent:#2563eb;
--border:rgba(0,0,0,0.1);
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,system-ui;}
body{
background:linear-gradient(135deg,var(--bg),var(--bg2));
color:var(--text);
min-height:100vh;
overflow-x:hidden;
transition:.3s;
}

/* Floating particles */
canvas{
position:fixed;
top:0;left:0;
z-index:-1;
}

/* HERO */
.hero{
text-align:center;
padding:100px 20px 60px;
animation:fadeHero 1s ease forwards;
}
@keyframes fadeHero{
from{opacity:0;transform:translateY(20px);}
to{opacity:1;transform:translateY(0);}
}
.hero h1{
font-size:2.8rem;
margin-bottom:15px;
}
.hero p{
opacity:0.8;
max-width:600px;
margin:auto;
}

/* Layout */
.layout{
display:flex;
max-width:1400px;
margin:auto;
padding:20px;
gap:30px;
}

/* Sidebar */
.sidebar{
width:220px;
background:var(--card);
border:1px solid var(--border);
border-radius:14px;
padding:20px;
height:fit-content;
backdrop-filter:blur(10px);
}
.sidebar h3{
margin-bottom:15px;
font-size:1rem;
}
.sidebar button{
width:100%;
margin-bottom:8px;
padding:8px;
border:none;
border-radius:8px;
background:var(--accent);
color:white;
cursor:pointer;
font-size:0.8rem;
}

/* Content */
.content{flex:1;}
.topbar{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:20px;
}
input{
padding:8px 12px;
border-radius:20px;
border:1px solid var(--border);
background:var(--card);
color:var(--text);
}

/* Theme toggle */
.toggle{
cursor:pointer;
font-size:1.4rem;
}

/* Projects */
.projects{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
gap:25px;
}
.card{
background:var(--card);
border:1px solid var(--border);
border-radius:16px;
padding:20px;
backdrop-filter:blur(12px);
transition:.3s;
}
.card:hover{
transform:translateY(-6px);
border-color:var(--accent);
}
.stats{
font-size:0.75rem;
opacity:0.8;
margin:8px 0;
}
.buttons{
display:flex;
gap:8px;
margin-top:10px;
}
.btn{
flex:1;
padding:8px;
border-radius:8px;
border:none;
cursor:pointer;
background:var(--accent);
color:white;
font-size:0.8rem;
}

/* Modal */
.modal{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,0.7);
justify-content:center;
align-items:center;
padding:20px;
z-index:10;
}
.modal-content{
width:100%;
max-width:1000px;
height:80vh;
background:#1e1e1e;
border-radius:14px;
display:flex;
flex-direction:column;
overflow:hidden;
}
.modal-header{
display:flex;
justify-content:space-between;
align-items:center;
padding:12px 20px;
background:#111;
color:white;
}
.modal-body{
flex:1;
overflow:auto;
padding:20px;
}
.copy{
background:var(--accent);
padding:6px 12px;
border-radius:6px;
cursor:pointer;
font-size:0.8rem;
}

/* Footer */
footer{
margin-top:80px;
padding:30px;
text-align:center;
border-top:1px solid var(--border);
font-size:0.9rem;
opacity:0.8;
}
footer a{
color:var(--accent);
margin:0 8px;
text-decoration:none;
}
</style>
</head>

<body>

<canvas id="particles"></canvas>

<section class="hero">
<h1>C & C++ Projects</h1>
<p>Modern, dynamic showcase powered by GitHub API. Clean, professional, and fully automated.</p>
</section>

<div class="layout">
<div class="sidebar">
<h3>Filters</h3>
<button onclick="filterLang('all')">All</button>
<button onclick="filterLang('c')">C</button>
<button onclick="filterLang('cpp')">C++</button>
</div>

<div class="content">
<div class="topbar">
<input type="text" id="search" placeholder="Search projects..." onkeyup="searchProjects()">
<span class="toggle" onclick="toggleTheme()"><i class="bi bi-moon-stars"></i></span>
</div>

<div class="projects" id="projects"></div>
</div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
<div class="modal-content">
<div class="modal-header">
<span id="fileName"></span>
<div>
<span class="copy" onclick="copyCode()">Copy</span>
<span onclick="closeModal()" style="cursor:pointer;">‚úï</span>
</div>
</div>
<div class="modal-body">
<pre class="line-numbers"><code id="codeBlock"></code></pre>
</div>
</div>
</div>

<footer>
<a href="https://github.com/MaybeSurya" target="_blank">GitHub</a> |
<a href="https://linkedin.com/in/MaybeSurya" target="_blank">LinkedIn</a> |
<a href="https://MaybeSurya.dev" target="_blank">MaybeSurya.dev</a>
<p>¬© 2026 MaybeSurya</p>
</footer>

<script>
const repo="MaybeSurya/c";
let allProjects=[];
let visibleProjects=[];
let currentIndex=0;
const batchSize=6;

/* ================= FETCH DATA ================= */
async function fetchProjects(){
showSkeletons();

let repoRes=await fetch(`https://api.github.com/repos/${repo}`);
let repoStats=await repoRes.json();

let res=await fetch(`https://api.github.com/repos/${repo}/contents`);
let files=await res.json();

files.forEach(file=>{
if(file.name.endsWith(".c")||file.name.endsWith(".cpp")){
let lang=file.name.endsWith(".c")?"c":"cpp";
allProjects.push({...file,lang,stats:repoStats});
}
});

clearSkeletons();
loadMoreProjects();
observeScroll();
}

/* ================= LAZY LOAD RENDER ================= */
function loadMoreProjects(){
const nextBatch=allProjects.slice(currentIndex,currentIndex+batchSize);
visibleProjects=[...visibleProjects,...nextBatch];
currentIndex+=batchSize;
render(visibleProjects);
}

function observeScroll(){
const observer=new IntersectionObserver(entries=>{
if(entries[0].isIntersecting){
loadMoreProjects();
}
},{threshold:1});

observer.observe(document.querySelector("#loadTrigger"));
}

/* ================= RENDER ================= */
function render(list){
const container=document.getElementById("projects");
container.innerHTML="";

list.forEach(p=>{
container.innerHTML+=`
<div class="card">
<h3>${p.name}</h3>
<div class="stats">
‚≠ê ${p.stats.stargazers_count} |
üç¥ ${p.stats.forks_count} |
Updated: ${new Date(p.stats.updated_at).toLocaleDateString()}
</div>
<div class="buttons">
<button class="btn" onclick="previewCode('${p.download_url}','${p.lang}','${p.name}')">Preview</button>
<a class="btn" href="${p.download_url}" download>Download</a>
</div>
</div>`;
});

container.innerHTML+=`<div id="loadTrigger" style="height:20px;"></div>`;
}

/* ================= SEARCH ================= */
function searchProjects(){
let val=document.getElementById("search").value.toLowerCase();
visibleProjects=allProjects.filter(p=>p.name.toLowerCase().includes(val));
currentIndex=visibleProjects.length;
render(visibleProjects);
}

/* ================= CODE PREVIEW ================= */
async function previewCode(url,lang,name){
let res=await fetch(url);
let text=await res.text();
document.getElementById("fileName").textContent=name;
let block=document.getElementById("codeBlock");
block.textContent=text;
block.className=`language-${lang}`;
Prism.highlightElement(block);
document.getElementById("modal").style.display="flex";
}

function closeModal(){
document.getElementById("modal").style.display="none";
}

function copyCode(){
navigator.clipboard.writeText(document.getElementById("codeBlock").textContent);
}

/* ================= THEME SWITCH ================= */
function toggleTheme(){
document.body.classList.toggle("light");
let theme=document.body.classList.contains("light");
document.getElementById("prism-theme").href=
theme?
"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css":
"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css";
}

/* ================= SKELETON LOADERS ================= */
function showSkeletons(){
const container=document.getElementById("projects");
for(let i=0;i<6;i++){
container.innerHTML+=`
<div class="card" style="background:rgba(255,255,255,0.05);height:120px;animation:pulse 1.5s infinite;"></div>`;
}
}

function clearSkeletons(){
document.getElementById("projects").innerHTML="";
}

/* ================= PARTICLE OPTIMIZATION ================= */
const canvas=document.getElementById("particles");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
for(let i=0;i<40;i++){
particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2+1,dx:(Math.random()-0.5)*0.4,dy:(Math.random()-0.5)*0.4});
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
particles.forEach(p=>{
ctx.beginPath();
ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
ctx.fillStyle="rgba(255,255,255,0.3)";
ctx.fill();
p.x+=p.dx;p.y+=p.dy;
if(p.x<0||p.x>canvas.width)p.dx*=-1;
if(p.y<0||p.y>canvas.height)p.dy*=-1;
});
requestAnimationFrame(animate);
}
animate();

/* INIT */
fetchProjects();
</script>
</body>
</html>
