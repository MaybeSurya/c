<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MaybeSurya | C & C++ Projects</title>
<meta name="description" content="Dynamic C and C++ project showcase powered by GitHub API.">

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<!-- Prism -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

<style>
:root{
--bg:#0f172a;
--text:#f1f5f9;
--card:#1e293b;
--border:#334155;
--accent:#38bdf8;
}
body.light{
--bg:#f8fafc;
--text:#0f172a;
--card:#ffffff;
--border:#e2e8f0;
--accent:#2563eb;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui;}
body{background:var(--bg);color:var(--text);transition:0.3s;}
.layout{display:flex;min-height:100vh;}
.sidebar{
width:220px;
background:var(--card);
padding:20px;
border-right:1px solid var(--border);
transition:0.3s;
}
.sidebar h2{margin-bottom:20px;}
.sidebar button{
display:block;
width:100%;
margin-bottom:10px;
padding:8px;
border-radius:6px;
border:1px solid var(--border);
background:none;
color:var(--text);
cursor:pointer;
}
.sidebar button:hover{border-color:var(--accent);}
.content{flex:1;padding:20px;}
.topbar{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:20px;
}
input{
padding:8px;
border-radius:6px;
border:1px solid var(--border);
background:var(--card);
color:var(--text);
}
.projects{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
gap:20px;
}
.card{
background:var(--card);
padding:20px;
border-radius:12px;
border:1px solid var(--border);
transition:0.3s;
opacity:0;
transform:translateY(20px);
animation:fadeIn 0.4s forwards;
}
@keyframes fadeIn{
to{opacity:1;transform:translateY(0);}
}
.tag{
display:inline-block;
padding:3px 8px;
border-radius:12px;
font-size:0.7rem;
margin-top:5px;
background:var(--accent);
color:white;
}
.buttons{display:flex;gap:8px;margin-top:10px;}
.btn{
flex:1;text-align:center;
padding:6px;border-radius:6px;
font-size:0.8rem;text-decoration:none;
color:white;background:var(--accent);
}
.modal{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,0.8);
justify-content:center;
align-items:center;
padding:20px;
}
.modal-content{
background:#1e1e1e;
width:90%;max-width:1000px;
max-height:85%;
overflow:auto;
border-radius:10px;
padding:20px;
position:relative;
}
.close{position:absolute;top:10px;right:15px;font-size:1.5rem;cursor:pointer;color:white;}
.copy-btn{
position:absolute;
top:10px;
left:15px;
background:#2563eb;
color:white;
padding:5px 10px;
border-radius:6px;
cursor:pointer;
font-size:0.8rem;
}
.mobile-toggle{
display:none;
font-size:1.5rem;
cursor:pointer;
}
@media(max-width:768px){
.sidebar{position:absolute;left:-220px;top:0;height:100%;z-index:10;}
.sidebar.active{left:0;}
.mobile-toggle{display:block;}
}
</style>
</head>

<body>

<div class="layout">
<div class="sidebar" id="sidebar">
<h2><i class="bi bi-code-slash"></i> Projects</h2>
<button onclick="filterLang('all')">All</button>
<button onclick="filterLang('c')">C</button>
<button onclick="filterLang('cpp')">C++</button>
<button onclick="filterTag('algorithm')">Algorithm</button>
<button onclick="filterTag('utility')">Utility</button>
<button onclick="filterTag('game')">Game</button>
<button onclick="toggleTheme()">Toggle Theme</button>
</div>

<div class="content">
<div class="topbar">
<span class="mobile-toggle" onclick="toggleSidebar()"><i class="bi bi-list"></i></span>
<input type="text" id="search" placeholder="Search..." onkeyup="searchProjects()">
</div>

<div class="projects" id="projects"></div>
</div>
</div>

<div class="modal" id="modal">
<div class="modal-content">
<span class="copy-btn" onclick="copyCode()"><i class="bi bi-clipboard"></i> Copy</span>
<span class="close" onclick="closeModal()">&times;</span>
<pre class="line-numbers"><code id="codeBlock"></code></pre>
</div>
</div>

<script>
const repo="MaybeSurya/c";
let projectData=[];

async function fetchProjects(){
const res=await fetch(`https://api.github.com/repos/${repo}/contents`);
const files=await res.json();

files.forEach(file=>{
if(file.name.endsWith(".c")||file.name.endsWith(".cpp")){
let lang=file.name.endsWith(".c")?"c":"cpp";
let tag=detectTag(file.name);
projectData.push({...file,lang,tag});
}
});
renderProjects(projectData);
}

function detectTag(name){
name=name.toLowerCase();
if(name.includes("search"))return "algorithm";
if(name.includes("guess"))return "game";
if(name.includes("calc")||name.includes("conv"))return "utility";
return "utility";
}

function renderProjects(list){
const container=document.getElementById("projects");
container.innerHTML="";
list.forEach(p=>{
container.innerHTML+=`
<div class="card" data-lang="${p.lang}" data-tag="${p.tag}" data-name="${p.name}">
<h3>${p.name}</h3>
<span class="tag">${p.tag}</span>
<div class="buttons">
<a class="btn" href="${p.html_url}" target="_blank"><i class="bi bi-eye"></i></a>
<a class="btn" href="${p.download_url}" download><i class="bi bi-download"></i></a>
<button class="btn" onclick="previewCode('${p.download_url}','${p.lang}')"><i class="bi bi-file-earmark-code"></i></button>
</div>
</div>`;
});
}

function filterLang(lang){
renderProjects(lang==="all"?projectData:projectData.filter(p=>p.lang===lang));
}
function filterTag(tag){
renderProjects(projectData.filter(p=>p.tag===tag));
}
function searchProjects(){
let val=document.getElementById("search").value.toLowerCase();
renderProjects(projectData.filter(p=>p.name.toLowerCase().includes(val)));
}

async function previewCode(url,lang){
let res=await fetch(url);
let text=await res.text();
let block=document.getElementById("codeBlock");
block.textContent=text;
block.className=`language-${lang}`;
Prism.highlightElement(block);
document.getElementById("modal").style.display="flex";
}

function closeModal(){document.getElementById("modal").style.display="none";}
function copyCode(){
navigator.clipboard.writeText(document.getElementById("codeBlock").textContent);
alert("Copied!");
}
function toggleTheme(){
document.body.classList.toggle("light");
}
function toggleSidebar(){
document.getElementById("sidebar").classList.toggle("active");
}

fetchProjects();
</script>

</body>
</html>
